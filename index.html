<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Story Point Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #fafafa;
            min-height: 100vh;
            padding: 20px;
            color: #2d3748;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(circle, #e0e0e0 1px, transparent 1px);
            background-size: 20px 20px;
            opacity: 0.3;
            z-index: -1;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 40px 20px;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: #1a202c;
        }

        .header p {
            font-size: 1.1rem;
            color: #4a5568;
        }

        .main-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border: 1px solid #e2e8f0;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid #e2e8f0;
            flex-wrap: wrap;
        }

        .tab-button {
            background: none;
            border: none;
            padding: 12px 20px;
            font-size: 15px;
            font-weight: 600;
            color: #718096;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            position: relative;
            top: 2px;
        }

        .tab-button.active {
            color:white;
            background: #2d3748;
            border-bottom-color: #2d3748;
        }

        .tab-button:hover {
            color:white;
            background: #2d3748;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .guidance-box {
            background: #fffbeb;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
            border-left: 4px solid #f59e0b;
            border: 1px solid #fde68a;
        }

        .guidance-box h3 {
            color: #78350f;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        .guidance-box ul {
            list-style: none;
            margin: 12px 0;
        }

        .guidance-box li {
            color: #92400e;
            margin: 8px 0;
            padding-left: 20px;
            position: relative;
            line-height: 1.6;
        }

        .guidance-box li:before {
            content: "‚Üí";
            position: absolute;
            left: 0;
            color: #f59e0b;
            font-weight: bold;
        }

        .guidance-box em {
            display: block;
            margin-top: 12px;
            font-size: 14px;
            color: #92400e;
        }

        .section {
            background: #f9fafb;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #e5e7eb;
            transition: all 0.3s;
        }

        .section:hover {
            border-color: #cbd5e0;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        }

        .section h3 {
            color: #1a202c;
            margin-bottom: 8px;
            font-size: 1.2rem;
        }

        .section > p {
            color: #4a5568;
            margin-bottom: 15px;
            font-size: 14px;
        }

        .scope-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .scope-option {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 12px;
            background: white;
            border-radius: 6px;
            border: 2px solid #e2e8f0;
            cursor: pointer;
            transition: all 0.3s;
        }

        .scope-option:hover {
            border-color: #2d3748;
            background: #fafafa;
        }

        .scope-option input[type="radio"] {
            margin-top: 3px;
            cursor: pointer;
            accent-color: #2d3748;
        }

        .scope-option label {
            font-weight: 600;
            cursor: pointer;
            color: #2d3748;
        }

        .scope-option .desc {
            font-size: 13px;
            color: #718096;
            margin-top: 4px;
        }

        .button-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            display: grid;
            grid-template-columns: 170px 1fr;
            gap: 12px;
            align-items: start;
        }

        .option button {
            width: 100%;
            height: 100%;
            min-height: 48px;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            color: #4a5568;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .option button:hover {
            border-color: #2d3748;
            background: #fafafa;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(45, 55, 72, 0.15);
        }

        .option button.active {
            background: #2d3748;
            color: white;
            border-color: #2d3748;
            box-shadow: 0 4px 12px rgba(45, 55, 72, 0.25);
        }

        .option .desc {
            font-size: 14px;
            color: #718096;
            line-height: 1.6;
            padding: 4px 0;
        }

        .additional-notes {
            width: 100%;
            margin-top: 10px;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 6px;
            font-family: inherit;
            font-size: 14px;
            resize: vertical;
            min-height: 60px;
            transition: border-color 0.3s;
        }

        .additional-notes:focus {
            outline: none;
            border-color: #2d3748;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .btn-primary {
            background: white;
            color: #2d3748;
            padding: 14px 32px;
            border: 2px solid #218838;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(45, 55, 72, 0.2);
        }

        .btn-primary:hover {
            background: #218838;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(45, 55, 72, 0.3);
        }

        .btn-secondary {
            background: white;
            color: #2d3748;
            padding: 14px 32px;
            border: 2px solid #c82333;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-secondary:hover {
            background: #c82333;
            color: white;
            transform: translateY(-2px);
        }

        .result {
            background: #2d3748;
            color: white;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            margin: 30px 0;
            display: none;
            box-shadow: 0 4px 12px rgba(45, 55, 72, 0.2);
        }

        .result h2 {
            color: white;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .result p {
            color: white;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .summary-section {
            margin-top: 30px;
        }

        .summary-section h3 {
            margin-bottom: 12px;
            color: #1a202c;
        }

        .summary-section p {
            color: #718096;
            font-size: 14px;
            margin-bottom: 12px;
        }

        #summary-box {
            width: 100%;
            min-height: 250px;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            resize: vertical;
            transition: border-color 0.3s;
        }

        #summary-box:focus {
            outline: none;
            border-color: #2d3748;
        }

        .docs-content {
            line-height: 1.8;
        }

        .docs-content h2 {
            color: #1a202c;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.8rem;
        }

        .docs-content h3 {
            color: #2d3748;
            margin-top: 25px;
            margin-bottom: 12px;
            font-size: 1.3rem;
        }

        .docs-content h4 {
            color: #4a5568;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .docs-content p {
            color: #4a5568;
            margin-bottom: 15px;
        }

        .docs-content ul, .docs-content ol {
            margin: 15px 0;
            padding-left: 30px;
            color: #4a5568;
        }

        .docs-content li {
            margin: 8px 0;
        }

        .docs-content code {
            background: #f7fafc;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #2d3748;
            border: 1px solid #e2e8f0;
        }

        .docs-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border: 1px solid #e2e8f0;
        }

        .docs-content th,
        .docs-content td {
            border: 1px solid #e2e8f0;
            padding: 12px;
            text-align: left;
        }

        .docs-content th {
            background: #f9fafb;
            font-weight: 600;
            color: #1a202c;
        }

        .info-card {
            background: #f0f9ff;
            border-left: 4px solid #3b82f6;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 6px;
            border: 1px solid #bfdbfe;
        }

        .info-card strong {
            color: #1e40af;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .option {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            .option button {
                width: 100%;
                min-height: 44px;
                max-height: 44px;
                padding: 10px 14px;
                font-size: 14px;
            }

            .action-buttons {
                flex-direction: column;
            }

            .btn-primary, .btn-secondary {
                width: 100%;
            }

            .tabs {
                overflow-x: auto;
            }

            .tab-button {
                white-space: nowrap;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìä Story Point Calculator</h1>
            <p>Data-driven estimation for agile teams</p>
        </div>

        <div class="main-content">
            <div class="tabs">
                <button class="tab-button active" data-tab="calculator">üì± Calculator</button>
                <button class="tab-button" data-tab="guide">üìñ How to Use</button>
                <button class="tab-button" data-tab="methodology">üßÆ Methodology</button>
                <button class="tab-button" data-tab="faq">‚ùì FAQ</button>
            </div>

            <!-- Calculator Tab -->
            <div class="tab-content active" id="calculator-tab">
                <div class="section">
                    <h3>üéØ Estimation Scope</h3>
                    <p>Select whether you're estimating the Epic as a whole or its child stories/tasks.</p>
                    <div class="scope-options">
                        <div class="scope-option">
                            <input type="radio" id="scope-epic" name="scope" value="epic" />
                            <div>
                                <label for="scope-epic">Epic</label>
                                <div class="desc">Estimate the entire Epic including coordination, integration, and cross-squad efforts.</div>
                            </div>
                        </div>
                        <div class="scope-option">
                            <input type="radio" id="scope-children" name="scope" value="children" checked />
                            <div>
                                <label for="scope-children">Children (Stories/Tasks)</label>
                                <div class="desc">Estimate only the effort for individual stories or tasks within the Epic.</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>üìã Requirements</h3>
                    <p>How well are the requirements understood? <em>Ask: "Can we start coding today, or do we need more info?"</em></p>
                    <div class="button-group" id="requirements">
                        <div class="option"><button value="1">Crystal Clear</button><span class="desc"></span></div>
                        <div class="option"><button value="2">Good</button><span class="desc"></span></div>
                        <div class="option"><button value="5">Moderate</button><span class="desc"></span></div>
                        <div class="option"><button value="8">Unclear</button><span class="desc"></span></div>
                        <textarea class="additional-notes" placeholder="Additional notes: What assumptions are we making? Who needs to sign off?"></textarea>
                    </div>
                </div>

                <div class="section">
                    <h3>üîó Dependencies</h3>
                    <p>Consider both the number of external dependencies and their reliability. <em>Ask: "Who/what are we waiting on?"</em></p>
                    <div class="button-group" id="dependencies">
                        <div class="option"><button value="1">None</button><span class="desc"></span></div>
                        <div class="option"><button value="2">Low</button><span class="desc"></span></div>
                        <div class="option"><button value="5">Medium</button><span class="desc"></span></div>
                        <div class="option"><button value="8">High</button><span class="desc"></span></div>
                        <textarea class="additional-notes" placeholder="List dependencies: teams, APIs, external systems. Include delivery dates and backup plans."></textarea>
                    </div>
                </div>

                <div class="section">
                    <h3>üéì Learning Curve</h3>
                    <p>How much effort will the team need to spend learning before they can deliver confidently? <em>Ask: "Have we done this before, or do we need to learn?"</em></p>
                    <div class="button-group" id="familiarity">
                        <div class="option"><button value="1">None</button><span class="desc"></span></div>
                        <div class="option"><button value="2">Minimal</button><span class="desc"></span></div>
                        <div class="option"><button value="8">Moderate</button><span class="desc"></span></div>
                        <div class="option"><button value="13">Steep</button><span class="desc"></span></div>
                        <textarea class="additional-notes" placeholder="What's new? What do we need to learn? Can AI help with this?"></textarea>
                    </div>
                </div>

                <div class="section">
                    <h3>üì¶ Volume of Work</h3>
                    <p>How much work is there, regardless of difficulty? Consider AI's ability to accelerate. <em>Ask: "How many files/components/tests? Can AI generate much of this?"</em></p>
                    <div class="button-group" id="volume">
                        <div class="option"><button value="1">Low</button><span class="desc"></span></div>
                        <div class="option"><button value="2">Medium</button><span class="desc"></span></div>
                        <div class="option"><button value="8">High</button><span class="desc"></span></div>
                        <div class="option"><button value="13">Very High</button><span class="desc"></span></div>
                        <textarea class="additional-notes" placeholder="Estimate files, components, test cases. What can AI generate vs what needs human work?"></textarea>
                    </div>
                </div>

                <div class="section">
                    <h3>üß© Complexity</h3>
                    <p>How intricate is the work? Consider AI's accuracy and reliability. <em>Ask: "Can AI generate this accurately, or does it need heavy human oversight?"</em></p>
                    <div class="button-group" id="complexity">
                        <div class="option"><button value="1">Low</button><span class="desc"></span></div>
                        <div class="option"><button value="2">Medium</button><span class="desc"></span></div>
                        <div class="option"><button value="8">High</button><span class="desc"></span></div>
                        <div class="option"><button value="13">Very High</button><span class="desc"></span></div>
                        <textarea class="additional-notes" placeholder="What makes this complex? Will AI help or need significant validation?"></textarea>
                    </div>
                </div>

                <div class="section">
                    <h3>‚ö†Ô∏è Risk</h3>
                    <p>What is the potential for failure or unexpected issues? Consider AI-generated code risks. <em>Ask: "What's the blast radius? Can we trust AI suggestions here?"</em></p>
                    <div class="button-group" id="risk">
                        <div class="option"><button value="1">None</button><span class="desc"></span></div>
                        <div class="option"><button value="2">Low</button><span class="desc"></span></div>
                        <div class="option"><button value="5">Medium</button><span class="desc"></span></div>
                        <div class="option"><button value="8">High</button><span class="desc"></span></div>
                        <textarea class="additional-notes" placeholder="What could go wrong? Should we be extra careful with AI-generated code here?"></textarea>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn-primary" id="calculate">Calculate Story Points</button>
                    <button class="btn-secondary" id="reestimate">Reset & Re-estimate</button>
                </div>

                <div class="result" id="result-section">
                    <h2><span id="story-points"></span> Story Point/s</h2>
                    <p>Total Score: <span id="total-score"></span></p>
                </div>

                <div class="summary-section">
                    <h3>üìù Estimation Summary</h3>
                    <p>Copy this markdown-formatted summary to your Jira issue for documentation:</p>
                    <textarea id="summary-box" placeholder="Your estimation summary will appear here after calculation..."></textarea>
                </div>
            </div>

            <!-- How to Use Tab -->
            <div class="tab-content" id="guide-tab">
                <div class="docs-content">
                    <h2>ü§∑‚Äç‚ôÇÔ∏è How to Use This Calculator</h2>
                    
                    <h3>For Individual Estimators</h3>
                    <ol>
                        <li><strong>Select Scope:</strong> Choose whether you're estimating an Epic or individual Stories/Tasks</li>
                        <li><strong>Evaluate Each Category:</strong> Work through Requirements, Dependencies, Familiarity, Volume, Complexity, and Risk</li>
                        <li><strong>Consider Interactions:</strong> Pay attention to the guidance box - some combinations amplify effort</li>
                        <li><strong>Add Notes:</strong> Document your reasoning in the text boxes for each category</li>
                        <li><strong>Calculate:</strong> Click "Calculate Story Points" to see your recommendation</li>
                        <li><strong>Update Jira::</strong>  Set the story points and paste the summary in the comments</li>
                    </ol>

                    <h3>For Team Estimation</h3>
                    <ol>
                        <li><strong>Share Context:</strong> One person presents the work item that needs estimation</li>
                        <li><strong>Discuss Each Category:</strong> Team discusses and agrees on ratings together</li>
                        <li><strong>Vote or Consensus:</strong> If ratings differ between roles (Dev vs QA), take the higher score</li>
                        <li><strong>Document Reasoning:</strong> Fill in the notes sections with key discussion points</li>
                        <li><strong>Calculate Together:</strong> Review the calculated story points as a team</li>
                        <li><strong>Sanity Check:</strong> Discuss whether the result feels reasonable based on team experience</li>
                        <li><strong>Update Jira:</strong> Set the story points and paste the summary in the comments</li>
                    </ol>

                    <div class="info-card">
                        <strong>üí° Pro Tip:</strong> Paste summaries in Jira comments rather than description fields. This preserves estimation history if the work item needs to be re-estimated later.
                    </div>

                    <h3>Best Practices</h3>
                    <ul>
                        <li>Use this tool as a <strong>conversation starter</strong>, not a replacement for team judgment</li>
                        <li>Re-estimate if requirements change significantly during the sprint</li>
                        <li>Track actual vs estimated effort to calibrate your team's intuition over time</li>
                        <li>Split stories that exceed 13 points for better predictability</li>
                        <li>Consider breaking epics into smaller deliverables if they score too high</li>
                    </ul>
                </div>
            </div>

            <!-- Methodology Tab -->
            <div class="tab-content" id="methodology-tab">
                <div class="docs-content">
                    <h2>üßÆ How It Works</h2>

                    <h3>Scoring Formula</h3>
                    <p>The calculator uses a weighted sum across six categories. Each category has a multiplier based on its typical contribution to effort:</p>

                    <table>
                        <thead>
                            <tr>
                                <th>Category</th>
                                <th>Weight (Children)</th>
                                <th>Weight (Epics)</th>
                                <th>Rationale</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Requirements</td>
                                <td>1.0x</td>
                                <td>1.5x</td>
                                <td>Unclear requirements can be clarified or re-estimated</td>
                            </tr>
                            <tr>
                                <td>Dependencies</td>
                                <td>1.2x</td>
                                <td>2.0x</td>
                                <td>Can cause delays but can be re-planned</td>
                            </tr>
                            <tr>
                                <td>Learning Curve</td>
                                <td>1.5x</td>
                                <td>3.0x</td>
                                <td>Learning effort significantly impacts delivery time and quality</td>
                            </tr>
                            <tr>
                                <td>Volume</td>
                                <td>1.5x</td>
                                <td>2.5x</td>
                                <td>More work takes more time, regardless of difficulty</td>
                            </tr>
                            <tr>
                                <td>Complexity</td>
                                <td>2.0x</td>
                                <td>3.0x</td>
                                <td>Primary driver of effort - complex work is exponentially harder</td>
                            </tr>
                            <tr>
                                <td>Risk</td>
                                <td>1.0x</td>
                                <td>1.5x</td>
                                <td>Risks can be mitigated with proper planning</td>
                            </tr>
                        </tbody>
                    </table>

                    <p><strong>Total Score Formula:</strong></p>
                    <code>(Requirements √ó Weight) + (Dependencies √ó Weight) + (Learning Curve √ó Weight) + (Volume √ó Weight) + (Complexity √ó Weight) + (Risk √ó Weight)</code>

                    <h3>Story Point Mapping</h3>
                    
                    <p>The calculator uses Fibonacci-based scaling to convert total scores into story points. This reflects the non-linear nature of effort estimation.</p>

                    <h4>For Children (Stories/Tasks)</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Total Score</th>
                                <th>Story Points</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>‚â§ 10</td><td>1</td></tr>
                            <tr><td>‚â§ 14</td><td>2</td></tr>
                            <tr><td>‚â§ 20</td><td>3</td></tr>
                            <tr><td>‚â§ 30</td><td>5</td></tr>
                            <tr><td>‚â§ 46</td><td>8</td></tr>
                            <tr><td>‚â§ 72</td><td>13</td></tr>
                            <tr><td>&gt; 72</td><td>21+ (Consider splitting)</td></tr>
                        </tbody>
                    </table>

                    <h4>For Epics</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Total Score</th>
                                <th>Story Points</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>‚â§ 72</td><td>13</td></tr>
                            <tr><td>‚â§ 114</td><td>21</td></tr>
                            <tr><td>‚â§ 164</td><td>34</td></tr>
                            <tr><td>‚â§ 233</td><td>55</td></tr>
                            <tr><td>‚â§ 329</td><td>89</td></tr>
                            <tr><td>&gt; 329</td><td>144+ (Split or convert to initiative)</td></tr>
                        </tbody>
                    </table>

                    <div class="info-card">
                        <strong>üìä Mathematical Basis:</strong> Thresholds follow the pattern: <code>Previous Ceiling + (Effort Multiplier √ó Next Fibonacci Number)</code>. The effort multiplier is 2, and epic thresholds include a variance multiplier (1.0, 0.9, 0.85, 0.8...) to account for increasing uncertainty at larger scales.
                    </div>
                </div>
            </div>

            <!-- FAQ Tab -->
            <div class="tab-content" id="faq-tab">
                <div class="docs-content">
                    <h2>‚ùì Frequently Asked Questions</h2>

                    <h3>Why isn't 0.5 story points an option?</h3>
                    <p>Story points represent <strong>relative effort</strong>, not precise time estimates. Using 0.5 points introduces false precision that contradicts the abstract nature of story pointing. It can lead to over-refinement, noisy velocity tracking, and unnecessary complexity. Most agile teams use 1 as the smallest unit and batch smaller tasks together when needed. If a task is worth estimating, it's worth at least 1 point.</p>

                    <h3>Why do different categories have different weights?</h3>
                    <p>The weights reflect how much each category typically contributes to overall effort and uncertainty:</p>
                    <ul>
                        <li><strong>Complexity (2-3x):</strong> Technical difficulty is a primary driver. Complex work requires more time, deeper thinking, and coordination.</li>
                        <li><strong>Learning Curve (1.5-3x):</strong> Time spent learning significantly slows teams down, even with AI assistance.</li>
                        <li><strong>Volume (1.5-2.5x):</strong> More work consumes more capacity, even when not technically complex.</li>
                        <li><strong>Dependencies (1.2-2x):</strong> Can cause delays but don't always increase actual work required.</li>
                        <li><strong>Requirements (1-1.5x):</strong> Gaps are often resolved early and don't always scale with effort.</li>
                        <li><strong>Risk (1-1.5x):</strong> Can be mitigated with planning and doesn't always translate to more work.</li>
                    </ul>

                    <h3>Why use non-linear scores (1, 5, 8, 13)?</h3>
                    <p>These scores reflect the non-linear nature of effort. The jump from "Medium" to "High" effort is often more than just one unit of work. This scale helps avoid false precision and aligns with agile estimation practices where uncertainty grows exponentially.</p>

                    <h3>How does this map to actual time or velocity?</h3>
                    <p>It doesn't - and that's intentional! Story points measure <strong>relative size, complexity, and uncertainty</strong>, not duration. The mapping helps teams consistently size the work. Your team's velocity (points completed per sprint) will naturally calibrate over time based on your capacity and working style.</p>

                    <h3>What if Dev and QA have different estimates?</h3>
                    <p>Always take the <strong>higher score</strong>. This accounts for the full scope of work across all disciplines and provides a more realistic estimate. Use the difference as a discussion point to understand where complexity or risk varies by role.</p>

                    <h3>Should I re-estimate if requirements change?</h3>
                    <p>Yes! If significant changes occur during development, re-run the calculator and update your estimate. Document the change in Jira comments to maintain estimation history and improve future calibration.</p>

                    <h3>What if my calculated points feel wrong?</h3>
                    <p>Trust your team's intuition! This tool provides a <strong>data-driven starting point</strong>, not an absolute answer. If the result doesn't match your collective experience, discuss why and adjust. Over time, you'll develop better pattern recognition for your team's work.</p>

                    <h3>Why are Epic weights higher than Children weights?</h3>
                    <p>Epics involve additional overhead like cross-team coordination, architectural decisions, integration challenges, and longer feedback cycles. The higher weights reflect this amplified complexity and uncertainty at larger scales.</p>

                    <div class="info-card">
                        <strong>üéØ Remember:</strong> This calculator is a tool to facilitate better conversations, not replace them. The best estimates come from experienced teams discussing work together, using data as a guide.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const dynamicDescriptions = {
            requirements: {
                epic: [
                    "Business goals are documented. Success metrics are clear. All key stakeholders agree on scope and priority.",
                    "We know the 'what' and 'why', but the 'how' across teams needs alignment. Some scope questions remain.",
                    "Vision is clear, but implementation details are fuzzy. We expect scope to evolve as we learn more.",
                    "This is more of a direction than a plan. We need workshops, prototypes, or research before committing to delivery."
                ],
                children: [
                    "We could start coding right now. Acceptance criteria are specific, testable, and agreed upon. No questions remain.",
                    "We understand what to build, but might need 1-2 quick clarifications during development. Edge cases are mostly defined.",
                    "We know the general direction, but several 'what ifs' remain. We'll need to check in with stakeholders 2-3 times during the work.",
                    "We understand the problem, but not the solution. This needs a discovery phase or spike before we can commit to delivery."
                ]
            },
            dependencies: {
                epic: [
                    "Single team owns all deliverables. No cross-team coordination required.",
                    "2-3 other teams involved with clear interfaces and schedules. Sync meetings keep everyone aligned.",
                    "4+ teams or systems involved. Integration points are known but require careful orchestration.",
                    "Success depends on many moving parts. Any slip in one dependency cascades to others. High coordination overhead."
                ],
                children: [
                    "Our team owns everything needed. No waiting on other teams, external APIs, or third-party services.",
                    "1-2 known dependencies with confirmed timelines (e.g., 'API team delivers endpoint next Tuesday'). Minimal coordination needed.",
                    "3-4 dependencies OR 1-2 dependencies without firm dates. Requires regular check-ins to stay aligned.",
                    "Multiple teams involved OR dependencies with unknown timelines OR blockers we can't control (e.g., vendor delays, regulatory approval)."
                ]
            },
            familiarity: {
                epic: [
                    "Team has delivered nearly identical epics. Architecture, patterns, and implementation approaches are proven and well-understood.",
                    "Some new aspects, but core patterns are familiar. AI can accelerate standard components. Minor adaptation needed.",
                    "Significant new concepts, but established in the industry. AI can surface examples, but requires validation, POCs, and architecture review.",
                    "Bleeding edge or highly specialized. AI training data limited. Requires innovation, extensive research, or deep expertise building."
                ],
                children: [
                    "We've solved this exact problem before multiple times. We know the patterns, gotchas, and edge cases. AI autocomplete will be highly accurate. Zero ramp-up time.",
                    "We have directly transferable skills from similar work. Might need to look up specific syntax or API details. AI tools can fill in the gaps instantly. Learning time: hours.",
                    "New concepts or tools, but related to our experience. AI can provide examples and boilerplate, but we need to validate and understand the suggestions. Expect 1-3 days of learning and experimentation.",
                    "Fundamentally new territory with limited prior experience. AI may provide generic or outdated advice. Requires deep research, prototyping, pair programming, or external consultation. Weeks of learning expected."
                ]
            },
            volume: {
                epic: [
                    "2-4 stories or tasks. Single-team effort with clear milestones.",
                    "5-10 stories spanning multiple features or services. Coordination within team.",
                    "10-20 stories across teams/systems. Requires phased delivery and integration testing.",
                    "20+ stories with many dependencies. Multi-sprint effort requiring roadmap planning and stakeholder management."
                ],
                children: [
                    "<strong>Dev:</strong> <10 lines changed across 1-2 files. <strong>QA:</strong> 2-5 test cases. <strong>Investigation:</strong> Answer 1-2 specific questions.",
                    "<strong>Dev:</strong> Touches 5-10 files or components. <strong>QA:</strong> 10-20 test cases across happy + sad paths. <strong>Investigation:</strong> Review multiple docs, create summary report.",
                    "<strong>Dev:</strong> Changes span 10+ files or multiple services. <strong>QA:</strong> 30-50 test cases including edge cases. <strong>Investigation:</strong> Deep dive with 5+ deliverables.",
                    "<strong>Dev:</strong> New service/module or major refactor. <strong>QA:</strong> 50+ test cases, automation setup, or cross-platform testing. <strong>Investigation:</strong> Comprehensive analysis across many systems."
                ]
            },
            complexity: {
                epic: [
                    "Isolated to one component. Changes don't affect other systems. Standard patterns apply.",
                    "2-3 components interact. Requires interface design and integration testing.",
                    "Affects system design. Requires technical specs, architecture review, and careful rollout.",
                    "Novel solution, cross-platform impact, or foundational changes. Requires innovation, extensive prototyping, and risk mitigation."
                ],
                children: [
                    "<strong>Dev:</strong> Straightforward CRUD, config changes, or UI tweaks. AI generates 80%+ correctly. <strong>QA:</strong> Happy path testing sufficient. <strong>Investigation:</strong> Simple yes/no questions.",
                    "<strong>Dev:</strong> Involves 2-3 interacting components, basic algorithms, or API integration. AI helps but needs human review. <strong>QA:</strong> Requires test plan with 5-10 scenarios. <strong>Investigation:</strong> Compare 2-3 options and recommend.",
                    "<strong>Dev:</strong> Complex state management, tricky algorithms, or architectural changes. AI suggests approaches but needs validation. <strong>QA:</strong> End-to-end testing with many edge cases. <strong>Investigation:</strong> Build proof-of-concept to validate approach.",
                    "<strong>Dev:</strong> Involves R&D, performance optimization, or core system changes. High risk of rework. <strong>QA:</strong> Requires new test frameworks or extensive manual testing. <strong>Investigation:</strong> Design and build tools to support discovery."
                ]
            },
            risk: {
                epic: [
                    "Well-understood scope with proven approaches. Low chance of surprises.",
                    "Some integration challenges expected, but manageable with coordination.",
                    "Scope might shift, dependencies could slip, or technical challenges may emerge. Plan for contingency.",
                    "Multiple failure points: unclear requirements, unreliable dependencies, or high stakes (regulatory, customer-facing, data-critical). Requires close monitoring and mitigation planning."
                ],
                children: [
                    "<strong>Dev:</strong> Changes are isolated; rollback is trivial. <strong>QA:</strong> Bugs are obvious and have minimal user impact. <strong>Investigation:</strong> Clear, low-stakes questions.",
                    "<strong>Dev:</strong> Might affect 1-2 adjacent features. Standard regression testing mitigates risk. <strong>QA:</strong> Failure would be caught in staging. <strong>Investigation:</strong> Minor uncertainty in findings.",
                    "<strong>Dev:</strong> Touches shared code or data structures. <strong>QA:</strong> Requires exploratory testing to find side effects. <strong>Investigation:</strong> Multiple valid answers exist; tradeoffs must be weighed.",
                    "<strong>Dev:</strong> High blast radius‚Äîcould destabilize the system or cause data issues. <strong>QA:</strong> Security, privacy, or data integrity concerns. <strong>Investigation:</strong> High uncertainty; findings might be inconclusive or require follow-up."
                ]
            }
        };

        const dynamicValues = {
            requirements: {
                epic: [5, 8, 21, 34],
                children: [1, 3, 5, 8]
            },
            dependencies: {
                epic: [5, 8, 21, 34],
                children: [1, 3, 5, 8]
            },
            familiarity: {
                epic: [5, 13, 21, 34],
                children: [1, 3, 8, 13]
            },
            volume: {
                epic: [5, 13, 21, 34],
                children: [1, 3, 8, 13]
            },
            complexity: {
                epic: [5, 13, 21, 34],
                children: [1, 3, 8, 13]
            },
            risk: {
                epic: [5, 8, 13, 21],
                children: [1, 3, 5, 8]
            }
        };

        let selections = {
            dependencies: null,
            requirements: null,
            familiarity: null,
            complexity: null,
            risk: null,
            volume: null,
            scope: "children"
        };

        // Tab switching
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', function() {
                const targetTab = this.getAttribute('data-tab');
                
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                document.getElementById(`${targetTab}-tab`).classList.add('active');
            });
        });

        function updateDescriptions(scope) {
            Object.keys(dynamicDescriptions).forEach(category => {
                const group = document.getElementById(category);
                if (!group) return;
                const descSpans = group.querySelectorAll(".desc");
                dynamicDescriptions[category][scope].forEach((text, index) => {
                    if (descSpans[index]) {
                        descSpans[index].innerHTML = text;
                    }
                });
            });
        }

        function updateValues(scope) {
            Object.keys(dynamicValues).forEach(category => {
                const group = document.getElementById(category);
                if (!group) return;
                const buttons = group.querySelectorAll("button");
                dynamicValues[category][scope].forEach((val, index) => {
                    if (buttons[index]) {
                        buttons[index].value = val;
                    }
                });
            });
        }

        function resetSelections() {
            Object.keys(selections).forEach(cat => {
                if (cat !== 'scope') selections[cat] = null;
                const group = document.getElementById(cat);
                if (group) {
                    group.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
                    const notes = group.querySelector('.additional-notes');
                    if (notes) notes.value = '';
                }
            });
        }

        document.querySelectorAll('input[name="scope"]').forEach(radio => {
            radio.addEventListener('change', function() {
                selections.scope = this.value;
                updateDescriptions(selections.scope);
                updateValues(selections.scope);
                resetSelections();
            });
        });

        document.querySelectorAll('.button-group button').forEach(button => {
            button.addEventListener('click', function() {
                let category = this.closest('.button-group').id;
                selections[category] = parseInt(this.value);
                this.closest('.button-group').querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
            });
        });

        function calculateScore(s, w) {
            return (
                s.requirements * w.requirements +
                s.dependencies * w.dependencies +
                s.familiarity * w.familiarity +
                s.volume * w.volume +
                s.complexity * w.complexity +
                s.risk * w.risk
            );
        }

        function mapChildrenScoreToPoints(score) {
            if (score <= 10) return 1;
            if (score <= 14) return 2;
            if (score <= 20) return 3;
            if (score <= 30) return 5;
            if (score <= 46) return 8;
            if (score <= 72) return 13;
            return "21+ (Consider splitting)";
        }

        function mapEpicScoreToPoints(score) {
            if (score <= 72) return 13;
            if (score <= 114) return 21;
            if (score <= 164) return 34;
            if (score <= 233) return 55;
            if (score <= 329) return 89;
            return "144+ (Split or convert to initiative)";
        }

        document.getElementById('calculate').addEventListener('click', function() {
            if (Object.values(selections).slice(0, 6).includes(null)) {
                alert("‚ö†Ô∏è Please make a selection for each category before calculating.");
                return;
            }

            const weights = {
                children: {
                    requirements: 1,
                    dependencies: 1.2,
                    familiarity: 1.5,
                    volume: 1.5,
                    complexity: 2,
                    risk: 1.0
                },
                epic: {
                    requirements: 1.5,
                    dependencies: 2.0,
                    familiarity: 3.0,
                    volume: 2.5,
                    complexity: 3.0,
                    risk: 1.5
                }
            };

            let totalScoreRaw = selections.scope === "epic"
                ? calculateScore(selections, weights.epic)
                : calculateScore(selections, weights.children);

            const totalScore = parseFloat(totalScoreRaw.toFixed(1));
            const storyPoints = selections.scope === "epic"
                ? mapEpicScoreToPoints(totalScore)
                : mapChildrenScoreToPoints(totalScore);

            document.getElementById('total-score').textContent = totalScore;
            document.getElementById('story-points').textContent = storyPoints;
            document.getElementById('result-section').style.display = 'block';

            document.getElementById('result-section').scrollIntoView({ behavior: 'smooth', block: 'center' });

            updateSummaryBox();
        });

        document.getElementById('reestimate').addEventListener('click', function() {
            const currentScope = selections.scope;
            resetSelections();
            document.getElementById('total-score').textContent = '';
            document.getElementById('story-points').textContent = '';
            document.getElementById('result-section').style.display = 'none';
            document.getElementById('summary-box').value = '';
            updateDescriptions(currentScope);
            updateValues(currentScope);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        function updateSummaryBox() {
            const categories = ["requirements", "dependencies", "familiarity", "volume", "complexity", "risk"];
            let summary = `## Story Point Estimation Summary\n\n`;
            summary += `**Scope:** ${selections.scope === 'epic' ? 'Epic' : 'Children (Stories/Tasks)'}\n\n`;

            categories.forEach(cat => {
                const group = document.getElementById(cat);
                const active = group.querySelector("button.active");
                const desc = group.querySelector("button.active + .desc");
                const notes = group.querySelector(".additional-notes");
                const notesText = notes ? notes.value.trim() : "";
                
                if (active && desc) {
                    const label = group.previousElementSibling.previousElementSibling.textContent.trim();
                    const value = active.textContent.trim();
                    const description = desc.innerText.trim();
                    summary += `### ${label}\n`;
                    summary += `**Selected:** ${value}\n\n`;
                    summary += `${description}\n\n`;
                    if (notesText) {
                        summary += `**Notes:**\n${notesText}\n\n`;
                    }
                    summary += `---\n\n`;
                }
            });

            const total = document.getElementById("total-score").textContent;
            const points = document.getElementById("story-points").textContent;
            if (total && points) {
                summary += `### **Final Estimate: ${points} Story Points**\n`;
                summary += `_Total Weighted Score: ${total}_\n\n`;
                summary += `---\n`;
                summary += `_Generated by Story Point Calculator_`;
            }

            document.getElementById("summary-box").value = summary;
        }

        updateDescriptions(selections.scope);
        updateValues(selections.scope);
    </script>
</body>
</html>